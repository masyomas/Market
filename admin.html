<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</title>
<style>
body { font-family:'Tahoma',sans-serif; background:#f9f9f9; margin:0; padding:0; text-align:center; direction:rtl;}
header { background:#007bff; color:#fff; padding:15px; font-size:22px;}
nav { background:#007bff; color:#fff; padding:8px; text-align:right;}
nav a { color:#fff; text-decoration:none; margin:0 5px; font-size:15px;}
nav a:hover { text-decoration:underline;}
main { margin:30px;}
.section { background:#fff; margin:15px auto; padding:10px; border-radius:8px; width:300px; box-shadow:0 0 5px rgba(0,0,0,0.1);}
input, select { padding:8px; margin:5px; font-size:15px; border:1px solid #ccc; border-radius:4px; width:220px;}
button { margin:5px; padding:6px 12px; font-size:14px; background:#007bff; color:#fff; border:none; border-radius:4px; cursor:pointer;}
button:hover { background:#0056b3;}
#adminContent { display:none; }
footer { background:#f1f1f1; text-align:center; padding:8px; font-size:13px; color:#777; border-top:1px solid #ddd;}
</style>
</head>
<body>

<header>âš™ï¸ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</header>

<nav>
  <a href="index.html">ğŸ¬ Ø§Ù„Ù…ØªØ¬Ø±</a> |
  <a href="register.html">ğŸ“ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</a> |
  <a href="myPurchases.html">ğŸ›’ Ù…Ø´ØªØ±ÙŠØ§ØªÙŠ</a> |
  <a href="admin.html">âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
</nav>

<main>
  <div id="loginForm">
    <h3>ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
    <select id="adminType">
      <option value="super">Ø³ÙˆØ¨Ø± Ø£Ø¯Ù…ÙŠÙ†</option>
      <option value="admin1">Ù…Ø¯ÙŠØ± 1</option>
      <option value="admin2">Ù…Ø¯ÙŠØ± 2</option>
      <option value="admin3">Ù…Ø¯ÙŠØ± 3</option>
      <option value="admin4">Ù…Ø¯ÙŠØ± 4</option>
      <option value="admin5">Ù…Ø¯ÙŠØ± 5</option>
    </select><br/>
    <input type="password" id="adminPass" placeholder="Ø§Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"><br/>
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
  </div>

  <div id="adminContent">
    <button onclick="logout()">ğŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</button>

    <div class="section">
      <div id="currentEmail">ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„ØªÙ„Ù‚ÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª:</div>
      <button id="changeEmailBtn" onclick="changeTargetEmail()">ØªØºÙŠÙŠØ± Ø§Ù„Ø¨Ø±ÙŠØ¯</button>
    </div>

    <div id="bonusSection" class="section">
      <h4>ØªØ­Ø¯ÙŠØ¯ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨ÙˆÙ†Øµ</h4>
      <input type="number" id="bonusInput" placeholder="Ù…Ø«Ù„Ø§Ù‹ 5 Ù„Ù„Ø®Ù…Ø³Ø© Ø¨Ø§Ù„Ù…Ø§Ø¦Ø©">
      <button onclick="updateBonus()">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ø³Ø¨Ø©</button>
    </div>

    <div id="managersSection" class="section">
      <h4>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø§Ø¡ (ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±)</h4>
      <div id="managersList"></div>
    </div>

    <div id="productsSection" class="section">
      <h4>Ø¥Ø¶Ø§ÙØ© Ø³Ù„Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©</h4>
      <input type="text" id="productName" placeholder="Ø§Ø³Ù… Ø§Ù„Ø³Ù„Ø¹Ø©">
      <input type="number" id="productPrice" placeholder="Ø§Ù„Ø³Ø¹Ø±">
      <input type="text" id="productImage" placeholder="Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
      <input type="text" id="productDetails" placeholder="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø³Ù„Ø¹Ø©">
      <button onclick="addProduct()">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ù„Ø¹Ø©</button>

      <h4>ğŸ“¦ Ø§Ù„Ø³Ù„Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h4>
      <div id="productsList"></div>
    </div>
  </div>
</main>

<footer>ğŸ’ Powered by Almasa ğŸ’</footer>

<script>
// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function login(){
  let type = document.getElementById('adminType').value;
  let pass = document.getElementById('adminPass').value;
  let correct = false;

  if(type === "super" && pass === "790707071"){
    localStorage.setItem('isSuperAdmin','true');
    correct = true;
  }
  else if(type.startsWith("admin")){
    let savedPass = localStorage.getItem(type+"_pass") || "1234";
    if(pass === savedPass){
      localStorage.setItem('isAdmin','true');
      correct = true;
    }
  }

  if(correct){
    document.getElementById('loginForm').style.display = "none";
    document.getElementById('adminContent').style.display = "block";
    showContent();
  } else {
    alert("âŒ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©");
  }
}

// ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
function logout(){
  localStorage.removeItem('isSuperAdmin');
  localStorage.removeItem('isAdmin');
  document.getElementById('adminContent').style.display = "none";
  document.getElementById('loginForm').style.display = "block";
}

// Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø¨Ø¹Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
function showContent(){
  let email = localStorage.getItem('targetEmail') || "mahmoudadelsaleh@gmail.com";
  document.getElementById('currentEmail').innerText = "ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ Ù„ØªÙ„Ù‚ÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª: " + email;

  let isSuper = localStorage.getItem('isSuperAdmin')==="true";

  document.getElementById('changeEmailBtn').style.display = isSuper ? "inline-block":"none";
  document.getElementById('bonusSection').style.display = isSuper ? "block":"none";
  document.getElementById('managersSection').style.display = isSuper ? "block":"none";

  if(isSuper){
    let list = "";
    for(let i=1; i<=5; i++){
      let adminId = "admin"+i;
      let savedPass = localStorage.getItem(adminId+"_pass") || "1234";
      list += `<div>${adminId}: <input type="text" id="${adminId}_newpass" value="${savedPass}">
                <button onclick="updateAdminPass('${adminId}')">ØªØ­Ø¯ÙŠØ«</button></div>`;
    }
    document.getElementById('managersList').innerHTML = list;
  }

  showProducts();
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯
function changeTargetEmail(){
  let newEmail = prompt("Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„ØªÙ„Ù‚ÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª:");
  if(newEmail){
    localStorage.setItem('targetEmail', newEmail);
    alert('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø¥Ù„Ù‰: ' + newEmail);
    showContent();
  }
}

// ØªØ­Ø¯ÙŠØ« Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨ÙˆÙ†Øµ
function updateBonus(){
  let bonus = document.getElementById('bonusInput').value;
  if(bonus){
    localStorage.setItem('bonusPercent', bonus);
    alert("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨ÙˆÙ†Øµ Ø¥Ù„Ù‰: "+bonus+"%");
  }
}

// ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù…Ø¯ÙŠØ±
function updateAdminPass(adminId){
  let newPass = document.getElementById(adminId+"_newpass").value;
  if(newPass){
    localStorage.setItem(adminId+"_pass", newPass);
    alert("âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù€ "+adminId);
  }
}

// Ø¥Ø¶Ø§ÙØ© Ø³Ù„Ø¹Ø© Ø¬Ø¯ÙŠØ¯Ø©
function addProduct(){
  let name = document.getElementById('productName').value.trim();
  let price = parseFloat(document.getElementById('productPrice').value);
  let img = document.getElementById('productImage').value.trim();
  let details = document.getElementById('productDetails').value.trim();

  if(!name || !price || !img){
    alert("âŒ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø³Ø¹Ø± ÙˆØ§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
    return;
  }

  let products = JSON.parse(localStorage.getItem('products') || "[]");
  products.push({name, price, img, details});
  localStorage.setItem('products', JSON.stringify(products));

  alert("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ù„Ø¹Ø© Ø¨Ù†Ø¬Ø§Ø­");
  document.getElementById('productName').value = "";
  document.getElementById('productPrice').value = "";
  document.getElementById('productImage').value = "";
  document.getElementById('productDetails').value = "";

  showProducts();
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
function showProducts(){
  let products = JSON.parse(localStorage.getItem('products') || "[]");
  let html = "";
  products.forEach((item,index)=>{
    html += `<div style="border-bottom:1px solid #ddd; margin:5px; padding:5px;">
      ğŸ·ï¸ <strong>${item.name}</strong> - ğŸ’° ${item.price} Ø¬Ù†ÙŠÙ‡<br/>
      <img src="${item.img}" alt="${item.name}" style="width:100px; margin:5px;"><br/>
      ğŸ“‹ ${item.details || ""}<br/>
      <button onclick="deleteProduct(${index})">ğŸ—‘ï¸ Ø­Ø°Ù</button>
    </div>`;
  });
  document.getElementById('productsList').innerHTML = html || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ù„Ø¹ Ø¨Ø¹Ø¯";
}

// Ø­Ø°Ù Ø³Ù„Ø¹Ø©
function deleteProduct(index){
  if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø³Ù„Ø¹Ø©ØŸ")){
    let products = JSON.parse(localStorage.getItem('products') || "[]");
    products.splice(index,1);
    localStorage.setItem('products', JSON.stringify(products));
    showProducts();
  }
}

// ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©: Ù„Ùˆ Ø§Ù„Ù…Ø¯ÙŠØ± Ù…Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„
if(localStorage.getItem('isSuperAdmin') === "true" || localStorage.getItem('isAdmin') === "true"){
  document.getElementById('loginForm').style.display = "none";
  document.getElementById('adminContent').style.display = "block";
  showContent();
}
</script>

</body>
</html>