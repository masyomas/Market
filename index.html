<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ¬ Ø§Ù„Ù…ØªØ¬Ø±</title>
<style>
body { font-family:'Tahoma',sans-serif; background:#f9f9f9; margin:0; padding:0; text-align:center; direction:rtl;}
header { background:#28a745; color:#fff; padding:15px; font-size:22px;}
nav { background:#28a745; color:#fff; padding:8px; text-align:right;}
nav a { color:#fff; text-decoration:none; margin:0 5px; font-size:15px;}
nav a:hover { text-decoration:underline;}
main { margin:20px; display:flex; flex-wrap:wrap; justify-content:center;}
.product { background:#fff; margin:10px; padding:10px; border-radius:8px; width:150px; box-shadow:0 0 5px rgba(0,0,0,0.1);}
.product img { width:100%; height:auto; border-radius:8px; }
.product button { margin:3px; padding:4px 8px; font-size:13px; border:none; border-radius:4px; cursor:pointer;}
.buyBtn { background:#007bff; color:#fff;}
.buyBtn:hover { background:#0056b3;}
.likeBtn { background:#dc3545; color:#fff;}
.likeBtn:hover { background:#a71d2a;}
footer { background:#f1f1f1; text-align:center; padding:8px; font-size:13px; color:#777; border-top:1px solid #ddd;}
</style>
</head>
<body>

<header>ğŸ¬ Ø§Ù„Ù…ØªØ¬Ø±</header>

<nav>
  <a href="index.html">ğŸ¬ Ø§Ù„Ù…ØªØ¬Ø±</a> |
  <a href="register.html">ğŸ“ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</a> |
  <a href="myPurchases.html">ğŸ›’ Ù…Ø´ØªØ±ÙŠØ§ØªÙŠ</a> |
  <a href="admin.html">âš™ï¸ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</a>
</nav>

<main id="productsList">
  <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
</main>

<footer>ğŸ’ Powered by Almasa ğŸ’</footer>

<script>
// Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ù† localStorage
function loadProducts(){
  let products = JSON.parse(localStorage.getItem('products') || "[]");
  let html = "";
  products.forEach((item,index)=>{
    html += `<div class="product">
      <img src="${item.img}" alt="${item.name}">
      <div><strong>ğŸ·ï¸ ${item.name}</strong></div>
      <div>ğŸ’° ${item.price} Ø¬Ù†ÙŠÙ‡</div>
      <div>ğŸ“‹ ${item.details || ""}</div>
      <button class="likeBtn" onclick="likeProduct(${index})">â¤ï¸ Ø¥Ø¹Ø¬Ø§Ø¨</button>
      <button class="buyBtn" onclick="buyProduct(${index})">ğŸ›’ Ø´Ø±Ø§Ø¡</button>
    </div>`;
  });
  document.getElementById('productsList').innerHTML = html || "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù…ØªØ§Ø­Ø©</p>";
}

// Ø¥Ø¹Ø¬Ø§Ø¨ Ø¨Ø§Ù„Ù…Ù†ØªØ¬
function likeProduct(index){
  alert("â¤ï¸ ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ù…ÙØ¶Ù„Ø© (ØªØ¬Ø±ÙŠØ¨ÙŠ)");
}

// Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬ + Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„
function buyProduct(index){
  let products = JSON.parse(localStorage.getItem('products') || "[]");
  let product = products[index];
  let myPurchases = JSON.parse(localStorage.getItem('myPurchases') || "[]");
  myPurchases.push({ name: product.name, price: product.price, img: product.img, details: product.details, time: Date.now() });
  localStorage.setItem('myPurchases', JSON.stringify(myPurchases));
  alert("âœ… ØªÙ… Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬ Ø¨Ù†Ø¬Ø§Ø­!");

  // Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ (Ø¨Ø´ÙƒÙ„ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù†Ø·Ø¨Ø¹ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„)
  let email = localStorage.getItem('targetEmail') || "mahmoudadelsaleh@gmail.com";
  console.log("ğŸ“§ Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ Ø¥Ù„Ù‰: "+email);
  console.log("Ø§Ù„Ù…Ù†ØªØ¬: "+product.name+" | Ø§Ù„Ø³Ø¹Ø±: "+product.price);
  // Ù‡Ù†Ø§ Ø§Ù„Ù…ÙØ±ÙˆØ¶ ØªØ³ØªØ®Ø¯Ù… EmailJS Ø£Ùˆ ØºÙŠØ±Ù‡ Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
}

// ØªØ­Ù…ÙŠÙ„ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
loadProducts();
</script>

</body>
</html>